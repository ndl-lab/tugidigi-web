(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"./ts/pages/signin/signin.html":function(s,e){s.exports='<div class=jps-signin> <section class="section login-form" v-if="mode===\'\'" key=login> <div class=form-container> <div class=form> <figure class="logo has-text-centered"> <img :src="$url(\'assets/img/brand/logo-square-color.svg\')" alt="Japansearch Brand logo"/> </figure> <h1 class="title is-size-4">{{ $l("l-login") }}</h1> <form method=post v-on:submit=$setLoading(true) :action="$url(\'signin\')"> <div class=field> <p class="control has-icons-left has-icons-right"> <input class="input is-medium" type=text :placeholder="$l(\'l-placeholder-id\')" name=username v-model=id /> <span class="icon is-small is-left"> <i class="material-icons notranslate" aria-hidden=true> perm_identity </i> </span> </p> </div> <div class=field> <p class="control is-expanded has-icons-left"> <input class="input is-medium" type=password :placeholder="$l(\'l-placeholder-password\')" name=password v-model=password /> <span class="icon is-small is-left"> <i class="material-icons notranslate" aria-hidden=true> vpn_key </i> </span> </p> </div> <div class=has-text-right> <button type=submit class="control button is-primary is-rounded submit-btn"> {{ $l("l-login") }} </button> </div> <input type=hidden name=remember-me value=true /> <input type=hidden name=_csrf :value=csrfToken /> </form> <p class=error-message v-if=loginError>{{ $l(loginError) }}</p> </div> <div class="messages has-text-centered"> <a href=#register class="form-link is-size-6-desktop is-size-7-mobile">{{ $l("l-register-user") }}</a> <a href=#reset class="form-link is-size-6-desktop is-size-7-mobile">{{ $l("m-forgot-password") }}</a> </div> </div> </section> <section class="section register" v-if="mode===\'register\'" key=register> <div class=form-container> <div class=form> <figure class="logo minimal has-text-centered"> <img :src="$url(\'assets/img/brand/logo-square-color.svg\')" alt="Japansearch Brand logo"/> </figure> <h1 class="title is-size-4">{{ $l("l-register-user") }}</h1> <p class="register-message is-size-6-desktop is-size-7-touch"> {{ $l("m-regsiter") }} </p> <form v-on:submit.prevent=submitRegister()> <div class="field has-text-left"> <label class=is-size-7>{{ $l("l-your-id") }}</label> <p class="control has-icons-left"> <input class="input is-medium" type=text v-model=id :placeholder="$l(\'m-id-help\')"/> <span class="icon is-small is-left"> <i class="material-icons notranslate" aria-hidden=true> perm_identity </i> </span> </p> <p class="help is-danger" v-if=idCheck>{{ $l(idCheck) }}</p> </div> <div class="field has-text-left"> <label class=is-size-7>{{ $l("l-mail") }}</label> <p class="control has-icons-left"> <input class="input is-medium" type=email v-model=email :placeholder=" $l(\'l-mail\')"/> <span class="icon is-small is-left"> <i class="material-icons notranslate" aria-hidden=true> mail_outline </i> </span> </p> <p class="help is-danger" v-if=mailCheck>{{ $l(mailCheck) }}</p> </div> <div class="field has-text-left"> <label class=is-size-7>{{ $l("l-password") }}</label> <p class="control has-icons-left"> <input class="input is-medium" type=password v-model=password :placeholder="$l(\'m-new-password\')"/> <span class="icon is-small is-left"> <i class="material-icons notranslate" aria-hidden=true> vpn_key </i> </span> </p> <p class="help is-danger" v-if=passwordCheck> {{ $l(passwordCheck) }} </p> </div> <div class="field has-text-left"> <p class="control has-icons-left"> <input class="input is-medium" type=password v-model=password_confirm :placeholder="$l(\'l-password-confirm\')"/> <span class="icon is-small is-left"> <i class="material-icons notranslate" aria-hidden=true> vpn_key </i> </span> </p> <p class="help is-danger" v-if=passwordConfirmCheck> {{ $l(passwordConfirmCheck) }} </p> </div> <div class=field> <div class=has-text-right> <button type=submit class="control button is-primary is-rounded submit-btn" :disabled=!registerOk> {{ $l("l-register") }} </button> </div> </div> </form> <p class=error-message v-if=registError> {{ $l("e-" + registError) }} </p> <p class=error-message v-if=registerErrorDetail> {{ $l("e-" + registerErrorDetail) }} </p> </div> <div class="messages has-text-centered"> <a class="form-link is-size-6-desktop is-size-7-mobile" href=#>{{ $l("l-back-to-login") }}</a> </div> </div> </section> <section class="section forget-password" v-if="mode===\'reset\'" key=reset> <div class=form-container> <div class=form> <figure class="logo minimal has-text-centered"> <img :src="$url(\'assets/img/brand/logo-square-color.svg\')" alt="Japansearch Brand logo"/> </figure> <h1 class="title is-size-4">{{ $l("l-pw-reset") }}</h1> <template v-if=!resetSent> <p class=register-message>{{ $l("m-passwd-reset") }}</p> <form v-on:submit.prevent=startResetPassword()> <div class="field has-text-left"> <label class=is-size-7>{{ $l("l-mail") }}</label> <p class="control has-icons-left"> <input class="input is-medium" type=email v-model=email :placeholder="$l(\'l-mail\')"/> <span class="icon is-small is-left"> <i class="material-icons notranslate" aria-hidden=true> mail_outline </i> </span> </p> <p class="help is-danger" v-if=mailCheck> {{ $l(mailCheck) }} </p> </div> <div class=has-text-right> <button type=submit class="control button is-primary is-rounded submit-btn" :disabled="!email || mailCheck!==\'\'"> {{ $l("l-reset") }} </button> </div> </form> <p class=error-message v-if=resetError>{{ $l(resetError) }}</p> </template> <template v-else> <p>{{ $l("m-reset-sent") }}</p> </template> </div> <div class="messages has-text-centered"> <a class="form-link is-size-6-desktop is-size-7-mobile" href=#>{{ $l("l-back-to-login") }}</a> </div> </div> </section> </div> '},"./ts/pages/signin/signin.ts":function(s,e,i){"use strict";i.r(e);var t=i("../node_modules/tslib/tslib.es6.js"),a=i("./ts/pages/signin/password-help-dialog/password-help-dialog.ts"),r=i("./ts/service/user-service.ts"),l=i("../node_modules/tiny-cookie/es/index.js"),o=i("./ts/utils/url.ts"),n=i("./ts/utils/user-mixin.ts"),d=i("../node_modules/vue/dist/vue.common.js"),c=i.n(d),p=i("../node_modules/vue-class-component/dist/vue-class-component.common.js"),m=i.n(p),u=i("../node_modules/vue-property-decorator/lib/vue-property-decorator.js"),g=(i("./ts/pages/signin/signin.scss"),function(s){function e(){var e=null!==s&&s.apply(this,arguments)||this;return e.loginError=null,e.csrfToken=null,e.mode="",e.registError=null,e.registerErrorDetail=null,e.resetSent=!1,e.resetError="",e}return t.d(e,s),e.prototype.onHashChange=function(s){""!==s&&"register"!==s&&"reset"!==s?s="":this.mode=s,"register"==this.mode&&(this.reset(),this.loginError=null)},e.prototype.beforeMount=function(){this.$registerComponentLang(h)},e.prototype.mounted=function(){this.csrfToken=Object(l.a)("XSRF-TOKEN"),this.loginError=this.def.error,this.id=this.def.id},Object.defineProperty(e.prototype,"loginButtonDisabled",{get:function(){return!this.id||!this.password},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"registerOk",{get:function(){return this.id&&this.email&&this.password&&this.password_confirm&&!this.idCheck&&!this.mailCheck&&!this.passwordCheck&&!this.passwordConfirmCheck},enumerable:!0,configurable:!0}),e.prototype.submitRegister=function(){var s=this;this.registError=null,this.registerErrorDetail=null,this.registerOk&&!this.$isLoading()&&this.$loadingExecutor().execute(Object(r.d)(this.id,this.email,this.password,this.$state.lang)).then(function(){s.$notifySuccess(s.$l("m-register-success")),s.setHash("")}).catch(function(e){s.registError=e.title,s.registerErrorDetail=e.detail})},e.prototype.startResetPassword=function(){var s=this;this.mailCheck||this.$isLoading()||(this.$setLoading(!0),Object(r.g)(this.email).then(function(e){s.resetSent=!0,s.$setLoading(!1)}).catch(function(e){s.$setLoading(!1),s.resetError=e.response.data.code}))},t.c([Object(u.a)(),t.f("design:type",Object)],e.prototype,"def",void 0),e=t.c([m()({name:"JpsSignin",mixins:[o.a,n.a],components:{PasswordHelpDialog:a.a},template:i("./ts/pages/signin/signin.html")})],e)}(c.a));e.default=g;var h={"l-placeholder-id":{ja:"ユーザIDまはた組織用サブアカウントID",en:"User ID or Organization sub-account ID"},"l-placeholder-password":{ja:"パスワード",en:"Password"},"h-signin":{ja:"ログイン",en:"Sign in to Japan Search"},"login-fail":{ja:"IDまたはパスワードに間違いがあります。",en:"ID or password is wrong"},"msg-register":{ja:"新規ユーザ登録",en:"Register User"},"msg-forgot-password":{ja:"パスワード再発行",en:"Forgot password?"},"h-regsiter":{ja:"ユーザ登録",en:"Sign up"},"p-regsiter":{ja:"ユーザ登録を行っていただくことで、自分だけのカスタマイズ検索の作成等を行うことができます。",en:"[値はまだない]"},"label-id":{ja:"登録を希望されるID",en:"ID"},"label-mail":{ja:"E-mailアドレス",en:"E-mail"},"l-reset":{ja:"送信",en:"Send"},"e-id-duplicate":{ja:"既に同じIDでの登録があります。別のIDにしてください。",en:"[値はまだない]"},"l-password":{ja:"パスワード",en:"[値はまだない]"},"l-password-confirm":{ja:"パスワード（確認）",en:"[値はまだない]"},"button-regsiter":{ja:"登録する",en:"Submit"},"msg-login":{ja:"ログイン画面に戻る",en:"[値はまだない]"},"h-reset":{ja:"パスワードの再発行",en:"[値はまだない]"},"p-reset":{ja:"ご登録頂いたメールアドレス宛にパスワードのリセットメールを送信致します。",en:"[値はまだない]"},"button-reset":{ja:"送信する",en:"Send"},"msg-reset-sent":{ja:"入力頂いたアドレスにリセットメールを送信しました。メールが届かない場合は別のメールアドレスで登録されている可能性がありますので、そちらでもお試し下さい。",en:"[値はまだない]"},"msg-password-help":{ja:"*パスワードについて",en:"About password"},"help-id":{ja:"*IDには半角英数と_が利用可能です。",en:"[値はまだない]"},"msg-register-success":{ja:"ユーザ登録が完了しました。送信したメールから、メールアドレスをコンファームしてください。",en:"[値はまだない]"},"l-back-to-login":{ja:"ログイン画面に戻る",en:"Back to login"},"l-mail":{ja:"E-mailアドレス",en:"E-mail address"},"l-register-user":{ja:"ユーザ登録",en:"Sign up"},"l-register":{ja:"ユーザ登録",en:"Sign up"},"l-your-id":{ja:"登録を希望されるID",en:"ID"},"l-pw-reset":{ja:"パスワードのリセット",en:"Reset password"},"m-forgot-password":{ja:"パスワード再発行",en:"Forgot password?"},"m-id-help":{ja:"IDには半角英数と_が利用可能",en:"Can use alphabet, number and underscore for ID"},"m-mail":{ja:"*E-mailアドレスはパスワードの安全なリセットのため必須です。",en:"*E-mail address is required to reset password"},"m-passwd-reset":{ja:"ご登録頂いたメールアドレス宛にパスワードのリセットメールを送信致します。",en:"[値はまだない]"},"m-password-help":{ja:"パスワードについて",en:"About password"},"m-register-success":{ja:"ユーザ登録が完了しました。送信したメールから、メールアドレスをコンファームしてください。",en:"[値はまだない]"},"m-regsiter":{ja:"ユーザ登録を行っていただくことで、組織用の画面にアクセスできます。",en:"[値はまだない]"},"m-reset-sent":{ja:"入力頂いたアドレスで登録されている場合、リセットメールを送信しました。メールが届かない場合は、別のメールアドレスで登録されている可能性がありますので、別のアドレスもお試し下さい。",en:"[値はまだない]"}}}}]);