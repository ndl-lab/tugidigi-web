<div class="search">
  <div class="section item-search-result" v-if="ss.result">
    <div class="container">
      <template v-if="ss.result.hit==0">
        <div
          class="item-search-nohit is-size-6-desktop is-size-7-touch has-text-centered"
        >
          {{ $l("zero-hit") }}
        </div>
      </template>
      <template v-else>
        <div class="level-left">
            <!-- ヒット件数 -->
            <b-collapse :open="false" aria-id="ngramview" @open="ngramsearch()">
              <template #trigger>
                <div v-if="ss.result.hit!=10000" class="level-item is-size-7-touch">
                  {{ $lt("l-num-found", $num(ss.result.hit)) }}
                </div>
                <div v-else class="level-item is-size-7-touch">
                  {{ $lt("l-num-found", "10,000+",) }}
                </div>
              </template>
              <div>
                <b-field vertical>
                  <ngram-viewer :ss="ssngram"></ngram-viewer>
                </b-field>
              </div>
            </b-collapse>
            
          </div>
        <nav class="search-nav level level-right">
          <div class="level-right">
            <search-pagination :ss="ss" ></search-pagination>
            {{ $l2("表示件数", "Number of records shown") }}
            <div class="search-pagesize-listbox">
              <search-pagesize :ss="ss"></search-pagesize>
            </div>
            {{ $l2("ソート", "Sort") }}
            <search-sort-fulltext :ss="ss"></search-sort-fulltext>
          </div>
        </nav>
        <div class="columns">
          <!-- 検索結果 -->
          <div class="column is-2 left-side is-open-facet">
            <search-facet v-for="facet in ss.result.facets" :facet="facet" :key="facet.key" :ss="ss"></search-facet>
          </div>
          <div class="column search-result-body is-9">
            <div class="result-list">
              <!-- 図表だけ -->
              <div v-if="imageOnly">
                <masonry
                  class="masonry"
                  :cols="{default: 5,1200: 4, 1000: 3, 800: 2, 500: 1}"
                  :gutter="{default: '30px', 700: '15px'}">
                  <illust-image
                    v-for="(i, index) in illusts"
                    @click="show(i)"
                    @search="imageSearch"
                    :height="180"
                    :key="index"
                    :i="i"
                  ></illust-image>
                </masonry>
              </div>
              <!-- 本表示 -->
              <div v-else class="books">
                <book-entry
                  v-for="(b,index) in ss.result.list"
                  @search="imageSearch"
                  :keywords="ss.keywords"
                  :book="b"
                  :key="b.id"
                ></book-entry>
              </div>
            </div>
          </div>
        </div>
        <nav class="bottom-pagination">
          <search-pagination :ss="ss"></search-pagination>
        </nav>
      </template>
    </div>
  </div>
</div>
